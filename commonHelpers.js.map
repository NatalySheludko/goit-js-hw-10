{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nlet time = null;\n\nconst dateInput = document.querySelector(\"#datetime-picker\");\nconst startClick = document.querySelector(\"[data-start]\");\nconst clockDays = document.querySelector(\"[data-days]\");\nconst clockHours = document.querySelector(\"[data-hours]\");\nconst clockMinutes = document.querySelector(\"[data-minutes]\");\nconst clockSeconds = document.querySelector(\"[data-seconds]\");\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n\n  onClose(selectedDates) {\n    const currentDate = new Date();\n    const userDate = selectedDates[0];\n\n    if (userDate > currentDate) {\n      userSelectedDate = userDate.getTime();\n    } else {\n      disableButton();\n\n      iziToast.show({\n        position: \"topRight\",\n        close: false,\n        messageColor: \"white\",\n        backgroundColor: \"#ff544b\",\n        message: \"âŒ Please choose a date in the future\",\n      });\n    }\n  },\n};\n\nflatpickr(\"input#datetime-picker\", options);\n\nstartClick.addEventListener(\"click\", disableButton);\n\nfunction disableButton() {\n  startClick.disabled = true;\n  dateInput.disabled = true;\n}\n\nstartClick.addEventListener(\"click\", () => {\n  const intervalId = setInterval(() => {\n    const currentDate = Date.now();\n    const diff = userSelectedDate - currentDate;\n    time = convertMs(diff);\n\n    addLeadingZero(time);\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000));\nconsole.log(convertMs(140000));\nconsole.log(convertMs(24140000));\n\nfunction addLeadingZero(time) {\n  clockDays.textContent = time.days.toString().padStart(2, \"0\");\n  clockHours.textContent = time.hours.toString().padStart(2, \"0\");\n  clockMinutes.textContent = time.minutes.toString().padStart(2, \"0\");\n  clockSeconds.textContent = time.seconds.toString().padStart(2, \"0\");\n}\n"],"names":["userSelectedDate","time","dateInput","startClick","clockDays","clockHours","clockMinutes","clockSeconds","options","selectedDates","currentDate","userDate","disableButton","iziToast","flatpickr","diff","convertMs","addLeadingZero","ms","days","hours","minutes","seconds"],"mappings":"+IAMA,IAAIA,EAAmB,KACnBC,EAAO,KAEX,MAAMC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAEtDC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACrB,MAAMC,EAAc,IAAI,KAClBC,EAAWF,EAAc,CAAC,EAE5BE,EAAWD,EACbV,EAAmBW,EAAS,WAE5BC,IAEAC,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,GACP,aAAc,QACd,gBAAiB,UACjB,QAAS,sCACjB,CAAO,EAEJ,CACH,EAEAC,EAAU,wBAAyBN,CAAO,EAE1CL,EAAW,iBAAiB,QAASS,CAAa,EAElD,SAASA,GAAgB,CACvBT,EAAW,SAAW,GACtBD,EAAU,SAAW,EACvB,CAEAC,EAAW,iBAAiB,QAAS,IAAM,CACtB,YAAY,IAAM,CACnC,MAAMO,EAAc,KAAK,MACnBK,EAAOf,EAAmBU,EAChCT,EAAOe,EAAUD,CAAI,EAErBE,EAAehB,CAAI,CACpB,EAAE,GAAI,CACT,CAAC,EAED,SAASe,EAAUE,EAAI,CAKrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIN,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAE/B,SAASC,EAAehB,EAAM,CAC5BG,EAAU,YAAcH,EAAK,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC5DI,EAAW,YAAcJ,EAAK,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC9DK,EAAa,YAAcL,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAClEM,EAAa,YAAcN,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CACpE"}